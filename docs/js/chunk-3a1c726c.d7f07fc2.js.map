{"version":3,"sources":["webpack:///./src/views/004getLocation/getlocation.vue?6340","webpack:///./src/assets/js/addTag.js","webpack:///./src/assets/js/getLocation.js","webpack:///src/views/004getLocation/getlocation.vue","webpack:///./src/views/004getLocation/getlocation.vue?6c66","webpack:///./src/views/004getLocation/getlocation.vue","webpack:///./src/views/004getLocation/getlocation.vue?7642"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","getLocation","_v","staticRenderFns","addSrcTag","src","cb","script","document","createElement","head","appendChild","onload","getPosition","errcb","geolocation","qq","maps","Geolocation","options","timeout","failTipFlag","position","console","log","lon","lng","lat","city","province","location","error","name","data","mapUrl","methods","_this","localCallback","err","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,mBAAmB,CAACG,MAAM,CAAC,MAAQ,cAAcH,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACE,YAAY,MAAME,GAAG,CAAC,MAAQR,EAAIS,cAAc,CAACT,EAAIU,GAAG,YAAYN,EAAG,IAAI,CAACE,YAAY,SAAS,CAACN,EAAIU,GAAG,+BAA+B,IACrXC,EAAkB,GCDP,SAASC,EAAUC,EAAKC,GACrC,IAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOF,IAAMA,EACbG,SAASE,KAAKC,YAAYJ,GAC1BA,EAAOK,OAAS,kBAAMN,KCJxB,IAAMO,EAAc,SAASP,EAAIQ,GAE/B,IAAIC,EAAc,IAAIC,GAAGC,KAAKC,YAAY,sCAAuC,SACjF,GAAIH,EAAa,CACf,IAAMI,EAAU,CAAEC,QAAS,IAAMC,aAAa,GAE9CN,EAAYd,aAAY,SAAAqB,GACtBC,QAAQC,IAAI,mBAAoBF,GAChC,IAAIG,EAAMH,EAASI,IACfC,EAAML,EAASK,IACfC,EAAON,EAASM,KAChBC,EAAWP,EAASO,SACpBC,EAAW,CAAEL,MAAKE,MAAKC,OAAMC,YAChB,oBAAPvB,GAAmBA,EAAGwB,MAC/B,SAAAC,GACDR,QAAQC,IAAI,kBAAmBO,GACX,oBAAVjB,GAAsBA,MAC/BK,QAEHI,QAAQC,IAAI,YCNhB,GACEQ,KAAM,cACNC,KAFF,WAGI,MAAO,CACLC,OAAQ,4EAGZC,QAAS,CAEPlC,YAFJ,WAGM,IAAN,OACA,uBACA,2BACA,4BAEMG,EAAUgC,EAAMF,OAAQG,GACxB,IAAN,cACQd,QAAQC,IAAI,WAAYS,IAEhC,cACQV,QAAQC,IAAI,WAAYc,OCjCoU,I,wBCQhWC,EAAY,eACd,EACAhD,EACAY,GACA,EACA,KACA,WACA,MAIa,aAAAoC,E,oECnBf,yBAAikB,EAAG","file":"js/chunk-3a1c726c.d7f07fc2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-container\"},[_c('header-component',{attrs:{\"title\":'腾讯地图获取定位'}}),_c('div',{staticClass:\"location-ctn\"},[_c('button',{staticClass:\"btn\",on:{\"click\":_vm.getLocation}},[_vm._v(\"点击获取定位\")]),_c('p',{staticClass:\"other\"},[_vm._v(\"建议在cli3.0 Network 下测试！\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function addSrcTag(src, cb) {\r\n  const script = document.createElement('script')\r\n  script.src = src\r\n  document.head.appendChild(script)\r\n  script.onload = () => cb()\r\n}\r\n","const getPosition = function(cb, errcb) {\r\n  // eslint-disable-next-line\r\n  let geolocation = new qq.maps.Geolocation('GZTBZ-BYWCX-32Z4O-Z3RDI-ZZMD5-NFFWK', 'myapp')\r\n  if (geolocation) {\r\n    const options = { timeout: 1000, failTipFlag: true }\r\n    /* eslint-disable */\r\n    geolocation.getLocation(position => {\r\n      console.log('success定位成功执行的方法', position)\r\n      let lon = position.lng\r\n      let lat = position.lat\r\n      let city = position.city\r\n      let province = position.province\r\n      let location = { lon, lat, city, province }\r\n      if(typeof cb === 'function') cb(location)\r\n    }, error => {\r\n      console.log('定位失败执行的方法 error', error)\r\n      if(typeof errcb === 'function') errcb()\r\n    }, options)\r\n  } else {\r\n    console.log('未获取位置对象')\r\n  }\r\n}\r\nexport { getPosition }\r\n","<template>\r\n  <div class=\"main-container\">\r\n    <header-component :title=\"'腾讯地图获取定位'\"></header-component>\r\n    <div class=\"location-ctn\">\r\n      <button class=\"btn\" @click=\"getLocation\">点击获取定位</button>\r\n      <p class=\"other\">建议在cli3.0 Network 下测试！</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport addSrcTag from '@/assets/js/addTag.js'\r\nimport { getPosition } from '@/assets/js/getLocation.js'\r\nexport default {\r\n  name: 'getlocation',\r\n  data() {\r\n    return {\r\n      mapUrl: 'https://3gimg.qq.com/lightmap/components/geolocation/geolocation.min.js'\r\n    }\r\n  },\r\n  methods: {\r\n    /* eslint-disable */\r\n    getLocation() {\r\n      let _this = this\r\n      let localCallback = () => getPosition (\r\n        data => getGeoData(data),\r\n        err => getGeoError(err)\r\n      )\r\n      addSrcTag(_this.mapUrl, localCallback)\r\n      let getGeoData = data => {\r\n        console.log('JS获取定位成功', data) // {city: '',lat: '', lon: ''}\r\n      }\r\n      let getGeoError = err => {\r\n        console.log('JS获取定位失败', err)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.main-container {\r\n  .location-ctn {\r\n    width: 375px;\r\n    height: 623px;\r\n    overflow-y: scroll;\r\n    .btn {\r\n      display: block;\r\n      background-color: #f5f5f5;\r\n      min-width: 200px;\r\n      height: 44px;\r\n      line-height: 44px;\r\n      margin: 20px auto 0;\r\n      border: 1px solid #a5c5b5;\r\n      border-radius: 2px;\r\n    }\r\n    .other {\r\n      color: #333333;\r\n      font-size: 16px;\r\n      padding: 6px 54px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./getlocation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./getlocation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./getlocation.vue?vue&type=template&id=eb9f3ed6&scoped=true&\"\nimport script from \"./getlocation.vue?vue&type=script&lang=js&\"\nexport * from \"./getlocation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./getlocation.vue?vue&type=style&index=0&id=eb9f3ed6&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eb9f3ed6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./getlocation.vue?vue&type=style&index=0&id=eb9f3ed6&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./getlocation.vue?vue&type=style&index=0&id=eb9f3ed6&lang=less&scoped=true&\""],"sourceRoot":""}