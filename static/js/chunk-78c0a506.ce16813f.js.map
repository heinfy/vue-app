{"version":3,"sources":["webpack:///./src/views/009prismjs/index.vue?2194","webpack:///./src/views/009prismjs/index.vue?34af","webpack:///src/views/009prismjs/index.vue","webpack:///./src/views/009prismjs/index.vue?92cd","webpack:///./src/views/009prismjs/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","_v","domProps","_s","highlightedCode","staticRenderFns","name","data","code","currentCode","isCursorVisible","computed","codeWithCursor","created","progressivelyTyping","updated","methods","scrollToBottom","$refs","editor","scrollTop","Promise","typingCount","count","typing","requestAnimationFrame","step","resolve","cancelAnimationFrame","component"],"mappings":"gHAAA,yBAA2jB,EAAG,G,gECA9jB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,IAAI,SAASC,YAAY,kBAAkB,CAACH,EAAG,mBAAmB,CAACI,MAAM,CAAC,MAAQ,oBAAoBJ,EAAG,IAAI,CAACI,MAAM,CAAC,KAAO,iDAAiD,CAACR,EAAIS,GAAG,2BAA2BL,EAAG,MAAM,CAACG,YAAY,WAAW,CAACP,EAAIS,GAAG,QAAQL,EAAG,OAAO,CAACM,SAAS,CAAC,UAAYV,EAAIW,GAAGX,EAAIY,oBAAoBZ,EAAIS,GAAG,WAAW,IACzbI,EAAkB,G,2CCatB,G,UAAA,+RAuBA,GACEC,KAAM,UACNC,KAFF,WAGI,MAAO,CACLC,KAAM,EACNC,YAAa,GACbC,gBAAiB,IAGrBC,SAAU,CACRP,gBADJ,WAEM,IAAN,gBACA,iBACA,0BAEA,kFACM,OAAOQ,IAGXC,QAnBF,WAoBIpB,KAAKqB,uBAEPC,QAtBF,WAuBI,KAAJ,kBAEEC,QAAS,CACPC,eADJ,WAGMxB,KAAKyB,MAAMC,OAAOC,UAAY,KAGhCN,oBANJ,WAMA,WACM,OAAO,IAAIO,SAAQ,SAAzB,GACQ,IAAR,UAEA,eACU,IAAV,8BAEA,mBACY,EAAZ,kCACYC,GAAe,IAG3B,WACY,EAAZ,2CAEUC,IACV,iBACYC,EAASC,sBAAsBC,IAE/BC,IACAC,qBAAqBJ,KAGzBA,EAASC,sBAAsBC,SC3FuT,I,wBCQ1VG,EAAY,eACd,EACAtC,EACAc,GACA,EACA,KACA,WACA,MAIa,aAAAwB,E","file":"static/js/chunk-78c0a506.ce16813f.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1ed69817&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1ed69817&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"editor\",staticClass:\"main-container\"},[_c('header-component',{attrs:{\"title\":'prismjs-code动画'}}),_c('a',{attrs:{\"href\":\"https://github.com/elvinn/wedding-invitation\"}},[_vm._v(\"原文：wedding-invitation\")]),_c('pre',{staticClass:\"tmp-ctn\"},[_vm._v(\"    \"),_c('code',{domProps:{\"innerHTML\":_vm._s(_vm.highlightedCode)}}),_vm._v(\"\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"main-container\"  ref=\"editor\">\n    <header-component :title=\"'prismjs-code动画'\"></header-component>\n    <a href=\"https://github.com/elvinn/wedding-invitation\">原文：wedding-invitation</a>\n    <pre class=\"tmp-ctn\">\n      <code v-html=\"highlightedCode\"></code>\n    </pre>\n  </div>\n</template>\n\n<script>\nimport Prism from 'prismjs'\nimport 'prismjs/themes/prism-okaidia.css'\n\nconst data = `\n// 我给你表演写代码\n// 我要开始写啦\n\n将进酒\n唐代：李白\n\n君不见黄河之水天上来，奔流到海不复回。\n君不见高堂明镜悲白发，朝如青丝暮成雪。\n人生得意须尽欢，莫使金樽空对月。\n天生我材必有用，千金散尽还复来。\n烹羊宰牛且为乐，会须一饮三百杯。\n岑夫子，丹丘生，将进酒，杯莫停。\n与君歌一曲，请君为我倾耳听。\n钟鼓馔玉不足贵，但愿长醉不愿醒。\n古来圣贤皆寂寞，惟有饮者留其名。\n陈王昔时宴平乐，斗酒十千恣欢谑。\n主人何为言少钱，径须沽取对君酌。\n五花马、千金裘，呼儿将出换美酒，与尔同销万古愁。\n\n// 好了我写完了\n`\n\nexport default {\n  name: 'prismjs',\n  data() {\n    return {\n      code: data,\n      currentCode: '',\n      isCursorVisible: 1\n    }\n  },\n  computed: {\n    highlightedCode() {\n      const code = Prism.highlight(\n          this.currentCode,\n          Prism.languages.javascript\n        )\n      const codeWithCursor = `${code}<span style=\"opacity:${this.isCursorVisible}\"> ▍</span>`\n      return codeWithCursor\n    }\n  },\n  created() {\n    this.progressivelyTyping()\n  },\n  updated() {\n      this.scrollToBottom()\n    },\n  methods: {\n    scrollToBottom() {\n      // 保持页面一直滚到最下面\n      this.$refs.editor.scrollTop = 100000\n    },\n    // 代码输入\n    progressivelyTyping() {\n      return new Promise((resolve) => {\n        let count = 0; let typingCount = 0; let typing\n        // 写代码每一帧的函数\n        const step = () => {\n          const randomNumber = Math.round(Math.random() * 6)\n          // 摸你打字的随机速度\n          if(count % 2 === 0 && randomNumber % 3 === 0) {\n            this.currentCode = this.code.substring(0, typingCount)\n            typingCount += 0.5\n          }\n          // 大约每 24 帧光标闪动一次\n          if(count % 24 === 0) {\n            this.isCursorVisible = this.isCursorVisible === 0 ? 1 : 0\n          }\n          count++\n          if(typingCount <= this.code.length) {\n            typing = requestAnimationFrame(step)\n          } else {\n            resolve()\n            cancelAnimationFrame(typing)\n          }\n        }\n        typing = requestAnimationFrame(step)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.main-container {\n  margin-top: 44px;\n  pre{\n    margin: 0;\n    white-space: pre-wrap;\n    text-align: left;\n    code{\n      white-space: pre-wrap;\n      word-break: break-all;\n      font-size: 16px!important;\n      margin: 0;\n      color: blueviolet;\n      line-height: 1.2;\n      font-weight: 500 !important;\n      background: transparent;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1ed69817&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1ed69817&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ed69817\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}